import i18n from "i18next";
import { initReactI18next } from "react-i18next";
import LanguageDetector from "i18next-browser-languagedetector";

export const resources = {
  en: {
    translation: {
      survey: {
        title: "Survey",
        saveFailed: "Failed to save. Please try again.",
        submitted: "Thanks! Your responses were recorded.",
        ideaGenTitle: "Idea generation process",
        ideaSelectTitle: "Idea selection process",
        groupCompetenceTitle: "Group Competence",
        groupWarmthTitle: "Group Warmth",
        groupComfortTitle: "Comfort",
        groupExpressionTitle: "Expression",
        groupDynamicsTitle: "Group dynamics",
        groupEvalTitle: "Group evaluation",
        playfulnessTitle: "Perceived playfulness",
        emojiUseTitle: "Emoji use",
        motivationTitle: "Motivation",
        demographicsTitle: "Demographics",
        thankYouTitle: "Thank you!",
        thankYouBody: "Your responses were recorded. You may close this window or return to the app.",
        notAtAll: "Not at all",
        extremely: "Extremely",
        stronglyDisagree: "Strongly disagree",
        stronglyAgree: "Strongly agree",
        veryOften: "Very often",
        incapable: "Incapable",
        capable: "Capable",
        ineffective: "Ineffective",
        effective: "Effective",
        incompetent: "Incompetent",
        competent: "Competent",
        unfriendly: "Unfriendly",
        friendly: "Friendly",
        cold: "Cold",
        warm: "Warm",
        unapproachable: "Unapproachable",
        approachable: "Approachable",
        disliked: "I disliked this group",
        liked: "I liked this group",
        notWorkAgain: "I would not want to work with this group again",
        workAgain: "I would like to work with this group again",
        q1: "Overall, to what degree did you feel your group came up with creative ideas?",
        q2: "To what extent do you feel the group worked well together on generating ideas?",
        q3: "To what extent do you feel the group gave you a chance to express yourself during the idea generation process?",
        q4: "To what extent did you think the idea selected by your group was the best one?",
        q5: "How satisfied are you with your group’s idea selection performance?",
        q6: "The group was incapable/capable",
        q7: "The group worked ineffectively/effectively",
        q8: "The group was incompetent/competent",
        q9: "The group felt unfriendly/friendly",
        q10: "The group seemed cold/warm",
        q11: "The group was unapproachable/approachable",
        q12: "How comfortable did you feel communicating with the other members?",
        q13: "Were you able to express all of your ideas?",
        q14: "How often did you not present an idea because you were worried about what your partners would comment on it?",
        q15: "We showed positive attitudes towards one another.",
        q16: "We encouraged each other.",
        q17: "One or two members tended to dominate the discussion.",
        q18: "Even though we didn’t have total agreement, we did reach a kind of consensus that we all accept.",
        q19: "I was happy with how our group interacted.",
        q20: "I disliked this group/I liked this group.",
        q21: "I would not want to work with this group again/I would like to work with this group again.",
        q22: "I found the interaction playful.",
        q23: "Participating in the task felt fun.",
        q24: "Participating in the task aroused my imagination.",
        q25: "To what extent do you generally use emojis in chat conversations?",
        q26: "To what extent was it important for you to perform well in this study?",
        gender: "Please select your gender",
        chooseOption: "Choose an option",
        genderFemale: "Female",
        genderMale: "Male",
        genderNonBinary: "Non-binary",
        genderPreferNotSay: "Prefer not to say",
        genderOther: "Other",
        age: "Please indicate your age",
        submit: "Submit",
      },
      app: { title: "chat-experiment",finish:"finish" },
      common: {
        userArea: "User Area",
        adminArea: "Admin Area",
        goToAdmin: "Go to Admin",
        goToUser: "Go to User",
        back: "Back",
        remove: "Remove",
        save: "Save",
        user: "User",
      },
      nav: {
        home: "Home",
        chat: "Chat",
        questions: "Finish",
        settings: "Settings",
        user: "User",
        admin: "Admin",
      },
      lang: {
        english: "English",
        hebrew: "Hebrew",
        switchTo: "Language",
      },
      pages: {
        userHome: "User Home",
        userChat: "User Chat",
        userQuestions: "User Questions",
        adminSettings: "Admin Settings",
        adminChat: "Admin Chat",
        prolificRequiredTitle: "Access Restricted",
        prolificRequiredMessage: "you have to connect via proflic system",
        adminSelectGroup: "Select a group to view chat",
        adminExportAll: "Export all",
        adminSearchPlaceholder: "search (by group name or prolific_pid)",
        adminNoGroups: "No groups found",
        adminGroups: "Groups",
        exportFailed: "Export failed. See console for details.",
        chatMessagesPlan: "Chat Messages plan",
        chatTimersPlan: "Chat Timers plan",
        group: "Group",
        emojiGroup: "emoji group",
        nonEmojiGroup: "non emoji group",
        message: "message",
        timer: "Timer",
        addNewMessage: "Add new message",
        addNewTimer: "Add new timer",
        participantsPerGroup: "Participants per group",
        participantsPerGroupHint: "Each group includes the number shown above.",
        totalDuration: "Total duration",
        mmssPlaceholder: "mm:ss",
        egTime: "e.g. 10:00",
        totalTimersMustBe: "Total timers must be {{expected}} (current {{current}})",
        totalTimersMustEqualDuration: "Total timers ({{sum}}) must equal total duration ({{total}}).",
        settingsSaved: "Settings saved.",
        goToSurvey: "Go to survey",
      },
      chat: {
        noMessages: "No messages yet.",
        placeholder: "Type your message",
        send: "Send",
        admin: "Admin",
        sendAsAdmin: "Send as admin",
        prolificIdPrefix: "PROLIFIC_ID-",
        groupTitle: "Group {{id}}",
        missingGroup:
          "Missing group assignment for user. Please return to consent.",
        noGroupOnUser: "No group found on user.",
        sessionEnded: "The session has ended. Thank you for participating.",
      },
      consent: {
        intro: "Hello and welcome to this survey.",
        readConsent:
          "Before you begin, please read the consent form on this page.",
        statement: {
          title: "📝 Consent Statement",
          p1: "You are participating in a study being performed by researchers from The Coller School of Management at Tel Aviv University. Your participation in this research is voluntary. You may decline to answer any or all of the following questions. You may decline further participation at any time, without adverse consequences.",
          p2: "Your anonymity is assured; the researchers who have requested your participation will not receive any personal information about you. If you have any questions about the research, you can contact the principal researcher, Prof. Shai Danziger at shaid@tauex.tau.ac.il",
        },
        about: {
          title: "🔍 About the Study",
          p1: "In this study, you’ll take part in a short online group activity. After giving your consent, you’ll receive a link that will take you to a group chatroom built especially for this research. You’ll be randomly placed in a small group with other participants. Once your group is ready, you’ll work together on a fun creativity task: first, coming up with as many different uses as you can for a common object, and then deciding together which idea is the most creative.",
          p2: "After completing the task, you will also be asked a series of questions about it and about yourself.",
          p3: "During the task, your conversations will be recorded and analyzed for research purposes. All data will be stored securely and used only in anonymized form, so that no individual participant can be identified.",
        },
        cta: {
          accept: "Agree",
          decline: "Disagree",
        },
      },
    },
  },
  he: {
    translation: {
      survey: {
        title: "שאלון",
        submitted: "תודה! תשובותיך נרשמו.",
        ideaGenTitle: "תהליך יצירת הרעיונות",
        ideaSelectTitle: "תהליך בחירת הרעיון",
        groupCompetenceTitle: "כשירות הקבוצה",
        groupWarmthTitle: "חמימות הקבוצה",
        groupComfortTitle: "נוחות",
        groupExpressionTitle: "הבעה",
        groupDynamicsTitle: "דינמיקה קבוצתית",
        groupEvalTitle: "הערכת הקבוצה",
        playfulnessTitle: "משחקיות נתפסת",
        emojiUseTitle: "שימוש באימוג'ים",
        motivationTitle: "מוטיבציה",
        demographicsTitle: "דמוגרפיה",
        thankYouTitle: "תודה!",
        thankYouBody: "תשובותיך נרשמו. ניתן לסגור חלון זה או לחזור לאפליקציה.",
        notAtAll: "בכלל לא",
        extremely: "במידה רבה מאוד",
        stronglyDisagree: "לא מסכים כלל",
        stronglyAgree: "מסכים מאוד",
        veryOften: "לעיתים קרובות מאוד",
        incapable: "חסר יכולת",
        capable: "בעל יכולת",
        ineffective: "לא יעיל",
        effective: "יעיל",
        incompetent: "לא מיומן",
        competent: "מיומן",
        unfriendly: "לא ידידותי",
        friendly: "ידידותי",
        cold: "קר",
        warm: "חם",
        unapproachable: "לא נגיש",
        approachable: "נגיש",
        disliked: "לא אהבתי את הקבוצה הזו",
        liked: "אהבתי את הקבוצה הזו",
        notWorkAgain: "לא הייתי רוצה לעבוד שוב עם הקבוצה הזו",
        workAgain: "הייתי רוצה לעבוד שוב עם הקבוצה הזו",
        q1: "באיזו מידה הרגשת שהקבוצה שלך העלתה רעיונות יצירתיים?",
        q2: "באיזו מידה הרגשת שהקבוצה עבדה היטב יחד על יצירת רעיונות?",
        q3: "באיזו מידה הרגשת שהקבוצה אפשרה לך לבטא את עצמך במהלך תהליך יצירת הרעיונות?",
        q4: "באיזו מידה חשבת שהרעיון שנבחר על ידי הקבוצה היה הטוב ביותר?",
        q5: "עד כמה היית מרוצה מביצועי הקבוצה בבחירת הרעיון?",
        q6: "הקבוצה הייתה חסרת יכולת/בעלת יכולת",
        q7: "הקבוצה עבדה באופן לא יעיל/יעיל",
        q8: "הקבוצה הייתה לא מיומנת/מיומנת",
        q9: "הקבוצה הרגישה לא ידידותית/ידידותית",
        q10: "הקבוצה נראתה קרה/חמה",
        q11: "הקבוצה הייתה לא נגישה/נגישה",
        q12: "עד כמה הרגשת בנוח לתקשר עם שאר החברים?",
        q13: "האם הצלחת לבטא את כל הרעיונות שלך?",
        q14: "באיזו תדירות לא הצגת רעיון בגלל שחששת מהתגובות של השותפים שלך?",
        q15: "הפגנו גישות חיוביות אחד כלפי השני.",
        q16: "עודדנו זה את זה.",
        q17: "אחד או שניים מהחברים נטו לשלוט בדיון.",
        q18: "למרות שלא הייתה הסכמה מלאה, הגענו למעין קונצנזוס שכולנו מקבלים.",
        q19: "הייתי מרוצה מאופן האינטראקציה בקבוצה שלנו.",
        q20: "לא אהבתי את הקבוצה הזו/אהבתי את הקבוצה הזו.",
        q21: "לא הייתי רוצה לעבוד שוב עם הקבוצה הזו/הייתי רוצה לעבוד שוב עם הקבוצה הזו.",
        q22: "מצאתי את האינטראקציה משחקית.",
        q23: "ההשתתפות במשימה הייתה מהנה.",
        q24: "ההשתתפות במשימה הציתה את הדמיון שלי.",
        q25: "באיזו מידה אתה/את משתמש/ת בדרך כלל באימוג'ים בשיחות צ'אט?",
        q26: "עד כמה היה חשוב לך להצליח במחקר הזה?",
        gender: "אנא בחר/י את המגדר שלך",
        chooseOption: "בחר/י אפשרות",
        genderFemale: "נקבה",
        genderMale: "זכר",
        genderNonBinary: "לא בינארי",
        genderPreferNotSay: "מעדיף/ה לא לומר",
        genderOther: "אחר",
        age: "אנא ציין/ני את גילך",
        submit: "שליחה",
      },
      app: { title: "ניסוי צ'אט",finish:'סיום' },
      common: {
        userArea: "אזור משתמש",
        adminArea: "אזור מנהל",
        goToAdmin: "מעבר למנהל",
        goToUser: "מעבר למשתמש",
      },
      nav: {
        home: "דף הבית",
        chat: "צ'אט",
        questions: "סיום",
        settings: "הגדרות",
        user: "משתמש",
        admin: "מנהל",
      },
      lang: {
        english: "אנגלית",
        hebrew: "עברית",
        switchTo: "שפה",
      },
      pages: {
        userHome: "דף הבית של משתמש",
        userChat: "צ'אט משתמש",
        userQuestions: "שאלות משתמש",
        adminSettings: "הגדרות מנהל",
        adminChat: "צ'אט מנהל",
        prolificRequiredTitle: "גישה נדחתה",
        prolificRequiredMessage: "יש להתחבר דרך מערכת Prolific",
      },
      chat: {
        noMessages: "אין הודעות עדיין.",
        placeholder: "הקלד/י הודעה",
        send: "שליחה",
        admin: "מנהל",
        groupTitle: "קבוצה {{id}}",
        missingGroup: "חסרה שיוכות לקבוצה עבור המשתמש. אנא חזרו למסך ההסכמה.",
        noGroupOnUser: "לא נמצאה קבוצה למשתמש.",
      },
      consent: {
        intro: "שלום וברוכים הבאים לסקר זה.",
        readConsent: "לפני שתתחילו, אנא קראו את טופס ההסכמה בעמוד זה.",
        statement: {
          title: "📝 הצהרת הסכמה",
          p1: "אתם משתתפים במחקר שמבוצע על ידי חוקרים מבית הספר לניהול ע״ש קולר באוניברסיטת תל‑אביב. ההשתתפות במחקר היא וולונטרית. תוכלו להימנע מלענות על כל או חלק מן השאלות. ניתן להפסיק את ההשתתפות בכל עת, ללא השלכות לרעתכם.",
          p2: "אנונימיותכם מובטחת; החוקרים שביקשו את השתתפותכם לא יקבלו מידע אישי אודותיכם. לשאלות בנוגע למחקר ניתן לפנות לחוקר הראשי, פרופ׳ שי דנציגר, ב‑shaid@tauex.tau.ac.il",
        },
        about: {
          title: "🔍 אודות המחקר",
          p1: "במחקר זה תשתתפו בפעילות קבוצתית מקוונת קצרה. לאחר מתן ההסכמה תקבלו קישור שיוביל אתכם לחדר צ'אט קבוצתי שנבנה במיוחד למחקר זה. תשובצו באקראי לקבוצה קטנה עם משתתפים נוספים. כאשר הקבוצה תהיה מוכנה, תעבדו יחד על משימת יצירתיות מהנה: תחילה תחשבו על כמה שיותר שימושים שונים עבור חפץ יומיומי, ולאחר מכן תחליטו יחד איזו מן ההצעות היא היצירתית ביותר.",
          p2: "לאחר השלמת המשימה תתבקשו לענות על סדרת שאלות אודותיה ואודות עצמכם.",
          p3: "במהלך המשימה, השיחות יתועדו וינותחו למטרות מחקר. כל הנתונים יאוחסנו באופן מאובטח ויעובדו בצורה מונגנבת בלבד, כך שלא ניתן יהיה לזהות משתתף בודד.",
        },
        cta: {
          accept: "אני מסכים/מה",
          decline: "אינני מסכים/מה",
        },
      },
    },
  },
} as const;

// Ensure Hebrew has full key parity with English by filling missing keys
// with English strings. This preserves existing Hebrew values and only
// backfills absent ones to maintain strict parity across languages.
function deepFillMissing(target: any, source: any) {
  if (!target || !source) return;
  for (const key of Object.keys(source)) {
    const sv = (source as any)[key];
    const tv = (target as any)[key];
    if (tv == null) {
      (target as any)[key] = sv;
    } else if (
      typeof sv === "object" && sv != null && !Array.isArray(sv) &&
      typeof tv === "object" && tv != null && !Array.isArray(tv)
    ) {
      deepFillMissing(tv, sv);
    }
  }
}



i18n
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    resources,
    fallbackLng: "en",
    supportedLngs: ["en"],
    detection: {
      order: ["querystring", "localStorage", "navigator"],
      caches: ["localStorage"],
    },
    interpolation: {
      escapeValue: false,
    },
  });

export default i18n;
